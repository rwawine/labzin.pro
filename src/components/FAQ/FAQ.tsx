import React, { useState } from 'react'
import styles from './FAQ.module.css'
import { motion, AnimatePresence } from 'framer-motion'

interface FAQItem {
    id: number;
    question: string;
    answer: React.ReactNode;
}

const dropdownAnimation = {
    hidden: {
        height: 0,
        opacity: 0,
        transition: {
            height: { duration: 0.3 },
            opacity: { duration: 0.2 }
        }
    },
    visible: {
        height: "auto",
        opacity: 1,
        transition: {
            height: { duration: 0.3 },
            opacity: { duration: 0.2, delay: 0.1 }
        }
    }
};

const faqData: FAQItem[] = [
    {
        id: 1,
        question: "Почему за переделку проект полный прайс?",
        answer: (
            <>
                <p>
                    Мы не исправляем недоделки и ошибки некачественных подрядчиков. Наша работа встречается с проектами, когда в проект нужно срочно вносить правки, то есть заказчик не понимает, что переделка проекта не равна исправлению.
                </p>
                <p>
                    Проект создается с нуля, так как нужно проверить все решения, которые были приняты ранее. Чаще всего проверка выявляет проект или с неправильными решениями или с неправильными проектировочными решениями.
                </p>
                <p>
                    Для таких работ имеет смысл применять наименьшие проектировочные усилия, чтобы уже весь последующий проект не пришлось бы переделывать на более поздних этапах. Технологии цифровые. И если в начальном проекте не было ошибок, то места реализации оборудования остаются на своих местах, но если добавлен новый функционал или изменения данных, то проект придется переделывать.
                </p>
                <p>
                    Поэтому мы выполняем проектирование и перепроектирование за одну стоимость.
                </p>
            </>
        )
    },
    {
        id: 2,
        question: "Какие требования для аттестации специалистов по проектированию СКС?",
        answer: (
            <>
                <p>
                    С 1 января 2022 года вступили в силу изменения в № 69-ФЗ «О пожарной безопасности», касающиеся аттестации физических лиц на право проектирования средств обеспечения пожарной безопасности (далее аттестация).
                </p>
                <p>
                    Согласно Постановления Правительства № 2106 от 30.11.2021 аттестация необходима только для проектирования объектов, введённых в эксплуатацию.
                </p>
                <p>
                    Аттестация необходима при проектировании:
                </p>
                <ul className={styles.faqList}>
                    <li>систем пожарной сигнализации;</li>
                    <li>систем оповещения и эвакуации при пожаре;</li>
                    <li>систем пожаротушения;</li>
                    <li>систем противопожарного водоснабжения (внутреннего и наружного);</li>
                    <li>систем передачи извещений о пожаре;</li>
                    <li>систем противодымной вентиляции;</li>
                    <li>противопожарных занавесов и завес, а также заполнений проёмов в противопожарных преградах;</li>
                    <li>для выполнения работ по огнезащите материалов, изделий и конструкций.</li>
                </ul>
            </>
        )
    },
    {
        id: 3,
        question: "Какие требования для аттестации специалистов по проектированию СТС?",
        answer: (
            <>
                <p>
                    В современном мире развитие бизнеса и инфраструктуры требует постоянного совершенствования и оптимизации процессов. Одним из ключевых этапов является проектирование, которое позволяет создать основу для успешного функционирования различных объектов. Однако составление качественного задания на проектирование может быть сложным процессом, требующим определённых знаний и опыта.
                </p>
                <p>
                    Платная услуга по составлению качественного задания на проектирование включает следующие этапы:
                </p>
                <ol className={styles.faqList}>
                    <li>
                        <strong>Анализ исходных данных и определение требований заказчика.</strong> На этом этапе специалист изучает предоставленную Заказчиком информацию об объекте проектирования, его особенностях и целях. Это позволяет определить основные параметры и требования к проекту.
                    </li>
                    <li>
                        <strong>Разработка технического задания.</strong> На основе анализа исходных данных специалист создаёт документ, в котором подробно описываются все аспекты будущего проекта. Техническое задание должно содержать информацию о назначении объекта, его характеристиках, требованиях к безопасности и другим параметрам.
                    </li>
                    <li>
                        <strong>Согласование с Заказчиком.</strong> Перед тем как приступить к разработке проекта, необходимо согласовать техническое задание с заказчиком. Это позволит учесть все пожелания и замечания, а также внести необходимые корректировки.
                    </li>
                    <li>
                        <strong>Разработка проектной документации.</strong> После согласования технического задания специалист начинает работу над проектом, создавая чертежи, схемы, расчёты и другие документы, необходимые для реализации проекта.
                    </li>
                    <li>
                        <strong>Контроль качества выполнения работ.</strong> На протяжении всего процесса разработки проекта специалист отслеживает качество выполнения работ, соответствие требованиям заказчика и нормативным документам.
                    </li>
                </ol>
                <p>
                    Обращение к специалистам для составления качественного задания на проектирование имеет ряд преимуществ:
                </p>
                <ol className={styles.faqList}>
                    <li>
                        <strong>Экономия времени и ресурсов.</strong> Профессионалы быстро и качественно выполнят работу, что позволит заказчику сэкономить время и ресурсы на самостоятельное изучение всех нюансов проектирования.
                    </li>
                    <li>
                        <strong>Гарантия качества.</strong> Специалисты имеют опыт и знания, необходимые для создания надёжного и эффективного проекта, соответствующего всем требованиям заказчика и нормативным документам.
                    </li>
                    <li>
                        <strong>Индивидуальный подход.</strong> Каждый объект уникален, и требует особого подхода при проектировании. Профессионалы учтут все особенности и пожелания заказчика, создав уникальное и эффективное решение.
                    </li>
                </ol>
                <p>
                    Платная услуга по составлению качественного задания на проектирование является важным этапом в процессе создания нового объекта. Обращение к профессионалам позволит сэкономить время и ресурсы, получить гарантию качества и индивидуальный подход к каждому проекту.
                </p>
            </>
        )
    }
];

export default function FAQ() {
    const [activeId, setActiveId] = useState<number | null>(null);

    const handleToggle = (id: number) => {
        setActiveId(activeId === id ? null : id);
    };

    return (
        <div className={styles.faqSection}>
            <div className={styles.titleContainer}>
                <h1 className={styles.title}>
                    Часто задаваемые вопросы
                </h1>
                <p className={styles.subtitle}>
                    Не нашли ответ на свой вопрос?
                </p>
                <button className={styles.button}>
                    <span className={styles.buttonText}>Спросить у нас</span>
                </button>
            </div>

            <div className={styles.faqContainer}>
                {faqData.map((item) => (
                    <div key={item.id} className={styles.faqItem}>
                        <div
                            className={styles.faqHeader}
                            onClick={() => handleToggle(item.id)}
                            role="button"
                            tabIndex={0}
                            onKeyDown={(e) => {
                                if (e.key === 'Enter' || e.key === ' ') {
                                    handleToggle(item.id);
                                }
                            }}
                        >
                            <div className={styles.faqQuestion}>
                                {item.question}
                            </div>
                            <motion.div
                                animate={{ rotate: activeId === item.id ? 45 : 0 }}
                                transition={{ duration: 0.3 }}
                                className={styles.faqIcon}
                            >
                                +
                            </motion.div>
                        </div>
                        <AnimatePresence initial={false}>
                            {activeId === item.id && (
                                <motion.div
                                    key="content"
                                    initial="hidden"
                                    animate="visible"
                                    exit="hidden"
                                    variants={dropdownAnimation}
                                    className={styles.faqAnswer}
                                    style={{ overflow: 'hidden' }}
                                >
                                    <div style={{ padding: '0 32px 32px' }}>
                                        {item.answer}
                                    </div>
                                </motion.div>
                            )}
                        </AnimatePresence>
                    </div>
                ))}
            </div>
        </div>
    )
}
